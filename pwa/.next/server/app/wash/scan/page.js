(()=>{var e={};e.id=88,e.ids=[88],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9535:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>f,tree:()=>c}),s(4189),s(2029),s(5866);var r=s(3191),a=s(8716),n=s(7922),o=s.n(n),i=s(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c=["",{children:["wash",{children:["scan",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4189)),"/Users/hollosigabor/Downloads/NewvSys/pwa/src/app/wash/scan/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/Users/hollosigabor/Downloads/NewvSys/pwa/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/hollosigabor/Downloads/NewvSys/pwa/src/app/wash/scan/page.tsx"],u="/wash/scan/page",h={require:s,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/wash/scan/page",pathname:"/wash/scan",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3529:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},6174:()=>{},6543:(e,t,s)=>{Promise.resolve().then(s.bind(s,5301))},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},8472:()=>{},1596:(e,t,s)=>{"use strict";s(8472);var r=s(7577),a=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),n="undefined"!=typeof process&&process.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,a=t.optimizeForSpeed,i=void 0===a?n:a;l(o(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",l("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){return l(o(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},t.replaceRule=function(e,t){this._optimizeForSpeed;var s=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}return e},t.deleteRule=function(e){this._serverSheet.deleteRule(e)},t.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},t.cssRules=function(){return this._serverSheet.cssRules},t.makeStyleTag=function(e,t,s){t&&l(o(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return s?a.insertBefore(r,s):a.appendChild(r),r},function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},d={};function u(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return d[r]||(d[r]="jsx-"+c(e+"-"+s)),d[r]}function h(e,t){var s=e+(t=t.replace(/\/style/gi,"\\/style"));return d[s]||(d[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[s]}var f=r.createContext(null);f.displayName="StyleSheetContext",a.default.useInsertionEffect||a.default.useLayoutEffect;var m=void 0;function p(e){var t=m||r.useContext(f);return t&&t.add(e),null}p.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},t.style=p},7626:(e,t,s)=>{"use strict";e.exports=s(1596).style},5301:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(326),a=s(7626),n=s.n(a),o=s(7577),i=s(5047),l=s(8069);function c(){let e=(0,i.useRouter)(),[t,s]=(0,o.useState)(null),[a,c]=(0,o.useState)(null),[d,u]=(0,o.useState)(""),[h,f]=(0,o.useState)(!1),[m,p]=(0,o.useState)(""),[x,b]=(0,o.useState)(!1);(0,o.useRef)(null);let[y,v]=(0,o.useState)(!1),[j,g]=(0,o.useState)(""),w=async()=>{if(a&&d.trim()){f(!0),p("");try{let t=await l.h.getLocationByCode(a,d.toUpperCase().trim());e.push(`/wash/new?location=${t.code}`)}catch(e){p(e.message||"Location not found"),f(!1)}}};return t?(0,r.jsxs)("div",{className:"jsx-4254a5f451248b60 min-h-screen bg-gray-900 flex flex-col",children:[r.jsx("header",{className:"jsx-4254a5f451248b60 bg-gray-900/80 backdrop-blur text-white px-4 py-4 safe-area-top absolute top-0 left-0 right-0 z-10",children:(0,r.jsxs)("div",{className:"jsx-4254a5f451248b60 flex items-center gap-4",children:[r.jsx("button",{onClick:()=>{e.back()},className:"jsx-4254a5f451248b60 p-2 hover:bg-gray-800 rounded-lg transition-colors",children:r.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-4254a5f451248b60 w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7",className:"jsx-4254a5f451248b60"})})}),(0,r.jsxs)("div",{className:"jsx-4254a5f451248b60",children:[r.jsx("h1",{className:"jsx-4254a5f451248b60 text-lg font-semibold",children:"Scan QR Code"}),r.jsx("p",{className:"jsx-4254a5f451248b60 text-gray-400 text-sm",children:"Point at location QR code"})]})]})}),r.jsx("div",{className:"jsx-4254a5f451248b60 flex-1 flex items-center justify-center relative",children:x?r.jsx("div",{className:"jsx-4254a5f451248b60 w-full px-6",children:(0,r.jsxs)("div",{className:"jsx-4254a5f451248b60 bg-white rounded-2xl shadow-xl p-6",children:[r.jsx("h2",{className:"jsx-4254a5f451248b60 text-xl font-semibold text-gray-800 text-center mb-6",children:"Enter Location Code"}),m&&r.jsx("div",{className:"jsx-4254a5f451248b60 mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm text-center",children:m}),r.jsx("input",{type:"text",value:d,onChange:e=>u(e.target.value.toUpperCase()),placeholder:"WASH001",autoCapitalize:"characters",autoComplete:"off",autoFocus:!0,className:"jsx-4254a5f451248b60 w-full px-4 py-4 text-2xl text-center font-mono tracking-wider\n                           border-2 border-gray-200 rounded-xl\n                           focus:border-primary-500 focus:ring-4 focus:ring-primary-100\n                           transition-all uppercase"}),(0,r.jsxs)("div",{className:"jsx-4254a5f451248b60 mt-6 space-y-3",children:[r.jsx("button",{onClick:w,disabled:h||!d.trim(),className:"jsx-4254a5f451248b60 w-full py-4 bg-gradient-to-r from-primary-500 to-primary-700\n                             text-white font-semibold rounded-xl shadow-lg\n                             hover:from-primary-600 hover:to-primary-800\n                             active:scale-[0.98] transition-all\n                             disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,r.jsxs)("span",{className:"jsx-4254a5f451248b60 flex items-center justify-center gap-2",children:[(0,r.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",className:"jsx-4254a5f451248b60 animate-spin w-5 h-5",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"jsx-4254a5f451248b60 opacity-25"}),r.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",className:"jsx-4254a5f451248b60 opacity-75"})]}),"Looking up..."]}):"Find Location"}),r.jsx("button",{onClick:()=>b(!1),className:"jsx-4254a5f451248b60 w-full py-3 text-gray-600 font-medium\n                             hover:text-gray-800 transition-colors",children:"Back to Scanner"})]})]})}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"jsx-4254a5f451248b60 absolute inset-0 flex items-center justify-center",children:y?(0,r.jsxs)("div",{className:"jsx-4254a5f451248b60 relative",children:[(0,r.jsxs)("div",{className:"jsx-4254a5f451248b60 w-64 h-64 relative",children:[r.jsx("div",{className:"jsx-4254a5f451248b60 absolute top-0 left-0 w-8 h-8 border-t-4 border-l-4 border-primary-500 rounded-tl-lg"}),r.jsx("div",{className:"jsx-4254a5f451248b60 absolute top-0 right-0 w-8 h-8 border-t-4 border-r-4 border-primary-500 rounded-tr-lg"}),r.jsx("div",{className:"jsx-4254a5f451248b60 absolute bottom-0 left-0 w-8 h-8 border-b-4 border-l-4 border-primary-500 rounded-bl-lg"}),r.jsx("div",{className:"jsx-4254a5f451248b60 absolute bottom-0 right-0 w-8 h-8 border-b-4 border-r-4 border-primary-500 rounded-br-lg"}),r.jsx("div",{className:"jsx-4254a5f451248b60 absolute inset-4 overflow-hidden",children:r.jsx("div",{style:{animation:"scan 2s ease-in-out infinite"},className:"jsx-4254a5f451248b60 w-full h-0.5 bg-primary-500 animate-pulse"})})]}),r.jsx("p",{className:"jsx-4254a5f451248b60 text-white text-center mt-8 text-sm",children:"QR scanner coming soon"})]}):(0,r.jsxs)("div",{className:"jsx-4254a5f451248b60 text-center text-white px-8",children:[r.jsx("div",{className:"jsx-4254a5f451248b60 w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-4254a5f451248b60 w-8 h-8 text-gray-500",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z",className:"jsx-4254a5f451248b60"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z",className:"jsx-4254a5f451248b60"})]})}),r.jsx("p",{className:"jsx-4254a5f451248b60 text-gray-400",children:j||"Camera not available"})]})}),r.jsx("div",{className:"jsx-4254a5f451248b60 absolute bottom-24 left-0 right-0 px-4",children:r.jsx("button",{onClick:()=>b(!0),className:"jsx-4254a5f451248b60 w-full py-4 bg-white/10 backdrop-blur text-white font-semibold rounded-xl\n                           hover:bg-white/20 active:scale-[0.98] transition-all",children:"Enter Code Manually"})})]})}),r.jsx("div",{className:"jsx-4254a5f451248b60 safe-area-bottom bg-gray-900"}),r.jsx(n(),{id:"4254a5f451248b60",children:"@-webkit-keyframes scan{0%,100%{-webkit-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(200px);transform:translatey(200px)}}@-moz-keyframes scan{0%,100%{-moz-transform:translatey(0);transform:translatey(0)}50%{-moz-transform:translatey(200px);transform:translatey(200px)}}@-o-keyframes scan{0%,100%{-o-transform:translatey(0);transform:translatey(0)}50%{-o-transform:translatey(200px);transform:translatey(200px)}}@keyframes scan{0%,100%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}50%{-webkit-transform:translatey(200px);-moz-transform:translatey(200px);-o-transform:translatey(200px);transform:translatey(200px)}}"})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"text-gray-500",children:"Loading..."})})}},8069:(e,t,s)=>{"use strict";s.d(t,{h:()=>n});let r=process.env.NEXT_PUBLIC_API_URL||"";class a{constructor(){this.baseUrl=r}handleSessionError(e){400===e.status||e.status}async activate(e,t){let s=await fetch(`${this.baseUrl}/pwa/activate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inviteCode:e,pin:t})});if(!s.ok)throw Error((await s.json()).message||"Activation failed");return s.json()}async getProfile(e){let t=await fetch(`${this.baseUrl}/pwa/profile`,{headers:{"x-driver-session":e}});if(!t.ok)throw Error("Failed to get profile");return t.json()}async getLocations(e){let t=await fetch(`${this.baseUrl}/pwa/locations`,{headers:{"x-driver-session":e}});if(!t.ok)throw this.handleSessionError(t),Error("Failed to get locations");return t.json()}async getLocationByCode(e,t){let s=await fetch(`${this.baseUrl}/pwa/locations/${t}`,{headers:{"x-driver-session":e}});if(!s.ok)throw Error("Location not found");return s.json()}async getServices(e,t){let s=await fetch(`${this.baseUrl}/pwa/locations/${t}/services`,{headers:{"x-driver-session":e}});if(!s.ok)throw Error("Failed to get services");let r=await s.json();return r.services||r}async createWashEvent(e,t){let s=await fetch(`${this.baseUrl}/pwa/wash-events`,{method:"POST",headers:{"Content-Type":"application/json","x-driver-session":e},body:JSON.stringify(t)});if(!s.ok)throw Error((await s.json()).message||"Failed to create wash event");return s.json()}async startWashEvent(e,t){let s=await fetch(`${this.baseUrl}/pwa/wash-events/${t}/start`,{method:"POST",headers:{"x-driver-session":e}});if(!s.ok)throw Error((await s.json()).message||"Failed to start wash");return s.json()}async completeWashEvent(e,t){let s=await fetch(`${this.baseUrl}/pwa/wash-events/${t}/complete`,{method:"POST",headers:{"x-driver-session":e}});if(!s.ok)throw Error((await s.json()).message||"Failed to complete wash");return s.json()}async getActiveWashEvent(e){let t=await fetch(`${this.baseUrl}/pwa/wash-events/active`,{headers:{"x-driver-session":e}});if(404===t.status)return null;if(!t.ok)throw Error("Failed to get active wash event");return t.json()}async getWashEvent(e,t){let s=await fetch(`${this.baseUrl}/pwa/wash-events/${t}`,{headers:{"x-driver-session":e}});if(!s.ok)throw Error((await s.json()).message||"Failed to get wash event");return s.json()}async getWashHistory(e){let t=await fetch(`${this.baseUrl}/pwa/wash-events`,{headers:{"x-driver-session":e}});if(!t.ok)throw Error("Failed to get wash history");let s=await t.json();return s.data||s}}let n=new a},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>a,viewport:()=>n});var r=s(9510);s(5023);let a={title:"VSys Wash",description:"Truck wash management system",manifest:"/manifest.json",appleWebApp:{capable:!0,statusBarStyle:"default",title:"VSys Wash"}},n={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,themeColor:"#2563eb"};function o({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"min-h-screen bg-gray-50",children:e})})}},4189:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/hollosigabor/Downloads/NewvSys/pwa/src/app/wash/scan/page.tsx#default`)},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[819],()=>s(9535));module.exports=r})();